define(["jquery","backbone","../models/CategoryModel","../collections/CategoriesCollection","../views/CategoryView"],function(e,o,i,n,t){var c=o.Router.extend({initialize:function(){this.animalsView=new t({el:"#animals",collection:new n([],{type:"animals"})}),this.colorsView=new t({el:"#colors",collection:new n([],{type:"colors"})}),this.vehiclesView=new t({el:"#vehicles",collection:new n([],{type:"vehicles"})}),o.history.start()},routes:{"":"home","category?:type":"category"},home:function(){e.mobile.changePage("#categories",{reverse:!1,changeHash:!1})},category:function(o){var i=this[o+"View"];i.collection.length?e.mobile.changePage("#"+o,{reverse:!1,changeHash:!1}):(e.mobile.loading("show"),i.collection.fetch().done(function(){e.mobile.changePage("#"+o,{reverse:!1,changeHash:!1})}))}});return c});